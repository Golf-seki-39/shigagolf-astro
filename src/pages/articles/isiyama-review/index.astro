---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import { db } from "../../../lib/firebase.js";
import { doc, getDoc } from "firebase/firestore";
// [修正点1] AstroのImageコンポーネントをインポート
import { Image } from "astro:assets";

// --- This article's specific information ---
const title =
    "普段トップトレーサーが無いと満足できない僕が、大津市「石山ゴルフ練習場」を“クラブ購入の聖地”に認定した理由 | シガゴル";
const description =
    "データ派ゴルファーが期待せず訪れた大津市の石山ゴルフ練習場。そこはデータでは測れない心地よさと、衝撃的な中古クラブとの出会いがある「クラブ選びの聖地」だった。その理由を体験記として綴ります。";
const category = "体験談";
const pubDate = "2025-09-26";
const pubDateISO = "2025-09-26T10:00:00+09:00"; 
const imageUrl = "https://i.imgur.com/7tuB35m.jpeg";
const rangeId = "ishiyama_gp";
// --- End of specific information ---

// [修正点4] 構造化データ用にURL変数を定義
const baseUrl = "https://shigolf.com";
// ★記事のURLパスをサイトの構成に合わせて設定してください
const articleUrl = `${baseUrl}/articles/ishiyama-gp-review/`; 

const appId = import.meta.env.PUBLIC_FIREBASE_APP_ID;
const docPath = `artifacts/${appId}/public/data/practice_ranges/${rangeId}`;
const docRef = doc(db, docPath);
const docSnap = await getDoc(docRef);
let rangeData = null;
if (docSnap.exists()) {
    rangeData = docSnap.data();
} else {
    console.error(`Error: No document found for rangeId: ${rangeId}`);
}
---

<BaseLayout title={title} description={description} pubDate={pubDate} ogImage={imageUrl}>

    <script slot="head" type="application/ld+json" set:html={JSON.stringify({
        "@context": "https://schema.org",
        "@type": "Article",
        // [修正点4] mainEntityOfPage を追加
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": articleUrl
        },
        "headline": title.split(" | ")[0],
        "description": description,
        "image": [ imageUrl, "https://i.imgur.com/ShGbliU.jpeg", "https://i.imgur.com/esUXxwC.jpeg", "https://i.imgur.com/1eTKYtp.jpeg", "https://i.imgur.com/F1GZMdB.jpeg" ],
        "author": {
            "@type": "Person",
            "name": "関（せき）",
            "url": "https://shigagolf.com/about/",
            "image": "https://i.imgur.com/BOcMOf3.png",
            "sameAs": [ "https://x.com/Golf_Seki39", "https://golf-medley.com/articles/authors/seki", "https://note.com/seki_golf_39", "https://www.tiktok.com/@user2579514551181" ]
        },
        "publisher": {
            "@type": "Organization",
            "name": "シガゴル",
            "logo": { "@type": "ImageObject", "url": "https://i.imgur.com/mN0IbPS.png" }
        },
        "datePublished": pubDateISO,
        "dateModified": pubDateISO,
        "review": {
            "@type": "Review",
            "itemReviewed": {
                "@type": "LocalBusiness",
                "name": rangeData?.name,
                "image": rangeData?.imageUrl,
                "telephone": rangeData?.phone,
                "priceRange": rangeData?.priceRange,
                "address": {
                  "@type": "PostalAddress",
                  "streetAddress": rangeData?.address,
                  "addressLocality": rangeData?.city,
                  "addressRegion": "滋賀県",
                  "postalCode": rangeData?.postalCode,
                  "addressCountry": "JP"
                }
            },
            "reviewRating": {
                "@type": "Rating",
                // Firebaseから取得した値を参照
                "ratingValue": rangeData?.avgRating || "0",
                "bestRating": "5",
                "worstRating": "1"
            },
            "author": { "@type": "Person", "name": "関（せき）" }
        }
    })} />

    <div
        id="article-ishiyama-golf-experience-view"
        class="bg-white p-6 md:p-8 rounded-lg shadow-lg max-w-4xl mx-auto"
    >
        <a
            href="/articles/"
            class="nav-link back-button mb-6 text-green-700 font-semibold hover:underline"
        >
            ‹ お役立ち記事一覧に戻る
        </a>

        <article
            class="prose lg:prose-xl max-w-none text-slate-700 leading-relaxed"
        >
            <header>
                <h1 class="text-3xl md:text-4xl font-bold text-slate-800">
                    {title.split(" | ")[0]}
                </h1>
                <p class="text-sm text-slate-500 mt-2">公開日：{pubDate}</p>
            </header>
            
            <p>
                僕は、いわゆる「データ派」のゴルファーだ。ゴルフ歴はまだ8ヶ月と浅いが、練習するならトップトレーサーは絶対に欲しい。自分の弾道を数値で把握し、効率的に上達したいからだ。だからプライベートで通うのは、決まってKSP彦根か365彦根だ。
            </p>
            <p>
                そんな僕が、仕事で訪れたのが大津市の「石山ゴルフ練習場」。もちろん、そこには弾道測定器も、最新の設備もないことを知っていた。「仕事だから仕方ない。でもまあ、料金が安いのが救いか…」正直、期待値はゼロに近かった。
            </p>
            <p>
                しかし、その日の帰り道、僕はこの練習場を<strong>「クラブ選びの聖地」</strong>として、自分のゴルフマップに登録することになる。一体、何があったのか？
                それは、データだけでは決して測れない<strong>“心地よさ”と、僕のゴルフ観を少しだけ変えることになる、ある“衝撃的な出会い”</strong>の物語だ。
            </p>
            
            <div class="toc-container bg-slate-50 p-6 rounded-lg border border-slate-200 my-8 not-prose">
                <h2 class="text-xl font-bold mb-4 text-slate-800">この記事の目次</h2>
                <ul class="space-y-2 list-disc list-inside">
                    <li><a href="#happy-betrayal" class="text-green-700 hover:underline">期待ゼロからの、嬉しい裏切り</a></li>
                    <li><a href="#cons" class="text-green-700 hover:underline">正直に伝える、気になる点</a></li>
                    <li><a href="#tips" class="text-green-700 hover:underline">僕が本当に伝えたかった「裏ワザ」</a></li>
                    <li><a href="#conclusion" class="text-green-700 hover:underline">結論：僕にとっての「特別な場所」</a></li>
                    <li><a href="#info-summary" class="text-green-700 hover:underline">「石山ゴルフ練習場」の基本情報</a></li>
                </ul>
            </div>

            <figure class="my-6">
                <Image
                    src="https://i.imgur.com/7tuB35m.jpeg"
                    alt="石山ゴルフ練習場の打席からの眺め"
                    class="w-full h-auto object-cover rounded-lg"
                    loading="lazy"
                    width={1280}
                    height={960}
                    format="webp"
                    quality={80}
                />
                <figcaption class="text-center text-sm text-slate-500 mt-2">
                    昔ながらの雰囲気が、逆に集中力を高めてくれる
                </figcaption>
            </figure>

            <h2
                id="happy-betrayal"
                class="scroll-mt-24 text-2xl md:text-3xl font-bold text-slate-800 mt-12 mb-4"
            >
                期待ゼロからの、嬉しい裏切り
            </h2>
            <h3 class="text-xl md:text-2xl font-bold text-slate-800 mt-8 mb-3">
                到着前から、心は掴まれていた
            </h3>
            <p>
                期待せずに向かう道中、その考えは少しずつ揺らぎ始めた。目的地に近づくと、大きくて分かりやすい看板が、立て続けに3つも現れたのだ。「ようこそ」と言われているような、その丁寧な案内に、思わず「お、親切だな…」と心が温かくなり、自然とワクワクしていた。
            </p>

            <figure class="my-6">
                 <Image
                    src="https://i.imgur.com/ShGbliU.jpeg"
                    alt="石山ゴルフ練習場の分かりやすい案内看板"
                    class="w-full h-auto object-cover rounded-lg"
                    loading="lazy"
                    width={960}
                    height={1280}
                    format="webp"
                    quality={80}
                />
                <figcaption class="text-center text-sm text-slate-500 mt-2">
                    分かりやすい大きな看板が、初めてでも迷わせない
                </figcaption>
            </figure>

            <h3 class="text-xl md:text-2xl font-bold text-slate-800 mt-8 mb-3">
                過剰じゃない、だから心地良い。「清潔感のある接客」
            </h3>
            <p>
                そして建物の中へ。特別なことをされたわけじゃない。でも、受付スタッフさんの対応は、とても自然な笑顔だった。僕が勝手に感じただけかもしれないが、そのやり取りには不思議と「清潔感」があった。マニュアル通りではない、人の温もりが感じられる。この時点で、僕はもうこの練習場のファンになり始めていた。
            </p>

            <h3 class="text-xl md:text-2xl font-bold text-slate-800 mt-8 mb-3">
                「ズレない」という、想像以上の快感
            </h3>
            <p>
                打席に立ち、何球か打ち始めると、ある快適さに気づく。「あれ、このマット、すごく打ちやすい…」。他の練習場だと、少し厚めにインパクトしただけでマットがめくれたりする。その度に足元を直し、アドレスを取り直す。この数秒の繰り返しが、集中力の糸を静かに、しかし確実に断ち切っていくのだ。しかし、ここのマットは違った。僕のどんなミスショットも、どっしりと構えて全て受け止めてくれる。だから僕は、次のスイングのことだけを考えられた。この「ズレない」という価値が、どれほど大きいか。
            </p>

            <figure class="my-6">
                 <Image
                    src="https://i.imgur.com/esUXxwC.jpeg"
                    alt="石山ゴルフ練習場のズレない打席マット"
                    class="w-full h-auto object-cover rounded-lg"
                    loading="lazy"
                    width={1280}
                    height={960}
                    format="webp"
                    quality={80}
                />
                <figcaption class="text-center text-sm text-slate-500 mt-2">
                    このどっしりとしたマットが、ミスへの恐怖を和らげる
                </figcaption>
            </figure>

            <h3 class="text-xl md:text-2xl font-bold text-slate-800 mt-8 mb-3">
                もはや宝探し。5,000円の新古品ウェッジとの出会い
            </h3>
            <p>
                そして、この日のハイライトが訪れる。クラブハウスに所狭しと並べられた中古クラブ。何気なく眺めていた僕の目に、一本のウェッジが飛び込んできた。ミズノの「SURE
                DD 50」。新古品で、値札には<strong>「¥5,000（税込）」</strong>の文字が。
            </p>

            <figure class="my-6">
                 <Image
                    src="https://i.imgur.com/1eTKYtp.jpeg"
                    alt="5000円で売られていたミズノの新古品ウェッジ"
                    class="w-full h-auto object-cover rounded-lg"
                    loading="lazy"
                    width={1280}
                    height={960}
                    format="webp"
                    quality={80}
                />
                <figcaption class="text-center text-sm text-slate-500 mt-2">
                    まさかの出会い。宝探し感覚でクラブを選べる
                </figcaption>
            </figure>

            <p>
                本当の驚きは、家に帰ってからだった。ふと気になってフリマアプリで相場を調べてみると、同じモデルの中古品が8,000円前後で取引されているじゃないか。「（え、マジかよ！あそこのはピカピカの新古品で5,000円だぞ…？）」一気に物欲のスイッチが入った。
            </p>

            <h2
                id="cons"
                class="scroll-mt-24 text-2xl md:text-3xl font-bold text-slate-800 mt-12 mb-4"
            >
                正直に伝える、気になる点
            </h2>
            <p>
                正直に言おう。僕が愛してやまないトップトレーサーは、ここにはない。綺麗に整備された広大なアプローチ練習場も、パターグリーンもない。だから、僕が普段の練習の拠点としてここを選ぶことは、たぶんないだろう。僕の練習スタイルとは、やはり少し違うからだ。だが、不思議と物足りなさは感じなかった。むしろ、クラブヘッドから手に伝わる打感や、乾いたインパクト音。普段データで見ていたものを、五感で味わう時間は、僕にとって新鮮な“発見”ですらあったのだ。
            </p>

            <h2
                id="tips"
                class="scroll-mt-24 text-2xl md:text-3xl font-bold text-slate-800 mt-12 mb-4"
            >
                僕が本当に伝えたかった「裏ワザ」
            </h2>
            <h3 class="text-xl md:text-2xl font-bold text-slate-800 mt-8 mb-3">
                上達の最短ルートは「回数」だ！30分打ち放題の真価
            </h3>
            <p>
                「上手くなる人は、たくさん球を打つ人じゃない。たくさん練習場に通う人だ」僕の持論だ。石山ゴルフ練習場は、入場料不要で「30分」という短時間から練習できる。これは、練習の「回数」を圧倒的に増やせるということだ。目的は何だっていい。ただ純粋に「もっと上手くなりたい」と願う全てのゴルファーにとって、ここは最高の環境だと断言できる。
            </p>

            <h3 class="text-xl md:text-2xl font-bold text-slate-800 mt-8 mb-3">
                【超・裏ワザ】40歳以下の男性、事件です。今すぐ石山へ！
            </h3>
            <p>
                そして、最も衝撃的な情報がこれだ。なんと現在、期間限定で40歳以下（※）のゴルファーを対象にした、破格のキャンペーンをやっている。
            </p>

            <figure class="my-6">
                 <Image
                    src="https://i.imgur.com/F1GZMdB.jpeg"
                    alt="40歳以下男性限定の打ち放題キャンペーン料金表"
                    class="w-full h-auto object-cover rounded-lg"
                    loading="lazy"
                    width={960}
                    height={1280}
                    format="webp"
                    quality={80}
                />
                <figcaption class="text-center text-sm text-slate-500 mt-2">
                    この価格は、まさに「事件」。見逃せない
                </figcaption>
            </figure>

            <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 my-6">
                <p class="font-bold text-slate-800">
                    【40歳以下男性限定 打ち放題キャンペーン】
                </p>
                <ul class="list-disc pl-5 mt-2">
                    <li><strong>60分 打ち放題： 800円</strong></li>
                    <li><strong>90分 打ち放題： 1,000円</strong></li>
                    <li><strong>120分 打ち放題： 1,200円</strong></li>
                </ul>
                <p class="text-sm mt-3 text-slate-600">
                    ※1984年7月生まれ以降の方が対象<br
                    />※1階・2階関係なしの料金<br
                    />※キャンペーン期間：2025年9月末日まで。訪れる際は、事前に練習場にご確認ください。
                </p>
            </div>
            <p>
                信じられるだろうか？
                女性向けの割引はよく見かけますが、男性ゴルファーがここまで優遇される練習場は、滋賀中を探しても他にない。このキャンペーンは、もはや<strong>「事件」</strong>だ。
            </p>

            <h2
                id="conclusion"
                class="scroll-mt-24 text-2xl md:text-3xl font-bold text-slate-800 mt-12 mb-4"
            >
                結論：僕にとっての「特別な場所」
            </h2>
            <p>
                僕の練習のホームグラウンドは、これからもKSP彦根や365彦根であり続けるだろう。データを見て、考えながら練習するスタイルは変えられないからだ。しかし、もし僕が「次のクラブが欲しい」と思ったら？その時は、迷わず車で1時間かけて、大津市の「石山ゴルフ練習場」へ向かう。フリマアプリの中古品より安い新古品を、自分の目で見て、触って、そして何より納得いくまで試打できるからだ。
            </p>
            <p>
                練習の拠点にはならない。でも、クラブ購入においては、僕にとって最高の場所。ここは、僕にとってそういう<strong>「特別な目的を持った、最高の練習場」</strong>になった。データ派のあなたも、そうでないあなたも、一度この「宝探し」体験をしてみてはいかがだろうか。
            </p>

            <hr class="my-8" />

            <h2
                id="info-summary"
                class="scroll-mt-24 text-2xl md:text-3xl font-bold text-slate-800 mt-12 mb-4"
            >
                「石山ゴルフ練習場」の基本情報
            </h2>
            {
                rangeData ? (
                    <div class="overflow-x-auto not-prose">
                        <table class="w-full text-left border-collapse">
                            <tbody class="align-baseline">
                                <tr class="border-b border-slate-200">
                                    <th class="py-3 px-4 bg-slate-50 font-semibold w-1/3">
                                        練習場名
                                    </th>
                                    <td class="py-3 px-4">
                                        {rangeData.name}
                                    </td>
                                </tr>
                                {rangeData.avgRating && (
                                    <tr class="border-b border-slate-200">
                                        <th class="py-3 px-4 bg-slate-50 font-semibold">総合評価</th>
                                        <td class="py-3 px-4">
                                            <div class="flex items-center" role="img" aria-label={`評価 ${parseFloat(rangeData.avgRating).toFixed(1)}/5`}>
                                                <span class="font-bold text-amber-500 mr-2">{parseFloat(rangeData.avgRating).toFixed(1)}</span>
                                                {Array.from({ length: 5 }).map((_, i) => (
                                                    <svg class={`w-5 h-5 ${i < Math.round(parseFloat(rangeData.avgRating)) ? 'text-amber-400' : 'text-slate-300'}`} fill="currentColor" viewBox="0 0 20 20">
                                                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                                    </svg>
                                                ))}
                                            </div>
                                        </td>
                                    </tr>
                                )}
                                <tr class="border-b border-slate-200">
                                    <th class="py-3 px-4 bg-slate-50 font-semibold">
                                        住所
                                    </th>
                                    <td class="py-3 px-4">
                                        <a href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(rangeData.name + " " + rangeData.address)}`} target="_blank" rel="noopener noreferrer" class="text-green-700 hover:underline">
                                            {rangeData.address}
                                        </a>
                                    </td>
                                </tr>
                                <tr class="border-b border-slate-200">
                                    <th class="py-3 px-4 bg-slate-50 font-semibold">
                                        電話番号
                                    </th>
                                    <td class="py-3 px-4">
                                        {rangeData.phone ? (
                                            <a href={`tel:${rangeData.phone?.replace(/-/g, "")}`} class="text-green-700 hover:underline">
                                                {rangeData.phone}
                                            </a>
                                        ) : (
                                            <span>-</span>
                                        )}
                                    </td>
                                </tr>
                                <tr class="border-b border-slate-200">
                                    <th class="py-3 px-4 bg-slate-50 font-semibold">
                                        営業時間
                                    </th>
                                    <td class="py-3 px-4">
                                        {rangeData.business_hours}
                                    </td>
                                </tr>
                                <tr class="border-b border-slate-200">
                                    <th class="py-3 px-4 bg-slate-50 font-semibold">
                                        料金（代表例）
                                    </th>
                                    <td class="py-3 px-4">
                                        {rangeData.price_uchihodai_weekday_str ||
                                            "お問い合わせください"}
                                    </td>
                                </tr>
                                <tr class="border-b border-slate-200">
                                    <th class="py-3 px-4 bg-slate-50 font-semibold">
                                        ヤード数
                                    </th>
                                    <td class="py-3 px-4">
                                        {rangeData.yardage
                                            ? `${rangeData.yardage}ヤード`
                                            : "-"}
                                    </td>
                                </tr>
                                <tr class="border-b border-slate-200">
                                    <th class="py-3 px-4 bg-slate-50 font-semibold">
                                        打席数
                                    </th>
                                    <td class="py-3 px-4">
                                        {rangeData.bays
                                            ? `${rangeData.bays}打席`
                                            : "-"}
                                    </td>
                                </tr>
                                <tr>
                                    <th class="py-3 px-4 bg-slate-50 font-semibold">
                                        アクセス
                                    </th>
                                    <td class="py-3 px-4">
                                        {rangeData.access}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                ) : (
                    <p class="text-center text-slate-500 py-4">
                        練習場の基本情報を読み込んでいます...
                    </p>
                )
            }
            {
                rangeData && (
                    <div class="map-container not-prose my-8 rounded-lg overflow-hidden border">
                         {/* [修正点2] iframeにloading="lazy"が適用されていることを確認 */}
                        <iframe
                            src={`https://www.google.com/maps/embed/v1/place?key=${import.meta.env.PUBLIC_GOOGLE_MAPS_API_KEY}&q=${encodeURIComponent(rangeData.name + " " + rangeData.address)}`}
                            width="100%"
                            height="450"
                            style="border:0;"
                            allowfullscreen=""
                            loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade"
                        ></iframe>
                    </div>
                )
            }
            <p class="text-center font-bold text-lg mt-8">
                🎯 さらに詳しい情報や口コミはこちら！
                <br />
                <a
                    href={`/ranges/${rangeId}/`}
                    class="mt-4 inline-block bg-green-700 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-green-800 transition-colors duration-200 text-base no-underline"
                >
                    「石山ゴルフ練習場」のシガゴル公式レビューページへ
                </a>
            </p>
        </article>
    </div>

    <style>
        .map-container {
            position: relative;
            width: 100%;
            overflow: hidden;
            padding-top: 56.25%; /* 16:9 aspect ratio */
        }
        .map-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }
        .scroll-mt-24 {
            scroll-margin-top: 6rem; /* 96px */
        }
    </style>
</BaseLayout>