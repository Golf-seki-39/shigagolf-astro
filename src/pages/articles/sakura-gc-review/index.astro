---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import { db } from "../../../lib/firebase.js";
import { doc, getDoc } from "firebase/firestore";
// [修正点1] AstroのImageコンポーネントをインポート
import { Image } from "astro:assets";

import MySlider from '../../../components/MySlider.astro';
import ShareButtons from '../../../components/ShareButtons.astro';
import AuthorProfile from '../../../components/AuthorProfile.astro';

// --- This article's specific information ---
const title = "【東近江市】女性ゴルファー超優遇！「さくらゴルフ倶楽部」が安すぎて心配になるレベルだった件。 | シガゴル";
const description = "滋賀県東近江市にある「さくらゴルフ倶楽部」は、特に女性とジュニアに驚きの優遇措置を提供する練習場。男性ゴルファーも通い詰めるその魅力と、充実した練習環境、心温まるエピソードを徹底レポートします。";
const category = "体験談";
const pubDate = "2025-05-23";
const pubDateISO = "2025-05-23T10:00:00+09:00"; 
const imageUrl = "https://i.imgur.com/wgDjFch.jpeg";
const rangeId = "sakura_gc";
// --- End of specific information ---

const baseUrl = "https://shigolf.com";
const articleUrl = `${baseUrl}/articles/sakura-gc-review/`;
const headline = title.split(" | ")[0];

const appId = import.meta.env.PUBLIC_FIREBASE_APP_ID;
const docPath = `artifacts/${appId}/public/data/practice_ranges/${rangeId}`;
const docRef = doc(db, docPath);
const docSnap = await getDoc(docRef);
let rangeData = null;
if (docSnap.exists()) {
    rangeData = docSnap.data();
} else {
    console.error(`Error: No document found for rangeId: ${rangeId}`);
}

// ★★★ ここから料金シミュレーター用のデータ定義 ★★★
const priceData = {
  plans: {
    visitor: { 
      name: 'ビジター', 
      type: 'visitor' 
    },
    member: { 
      name: 'メンバー会員', 
      type: 'member',
      entryFee: 0 // 入場料無料
    },
    premium: {
      name: 'プレミアム会員',
      type: 'premium',
      entryFee: 0, // 入場料無料
      discount: 1, // 1円引き (9:00-22:00)
      unlimited: [ // 9:00-22:00
        { name: "2時間打ち放題", price: 1030 },
        { name: "3時間打ち放題", price: 1545 }
      ]
    },
    ladies_junior: {
      name: 'レディース・ジュニア',
      type: 'ladies_junior',
      entryFee: 0, // 入場料無料
      unlimited: [ // 9:00-22:00
        { name: "1時間打ち放題", price: 515 },
        { name: "2時間打ち放題", price: 1030 },
        { name: "3時間打ち放題", price: 1545 }
      ]
    }
  },
  timeZones: {
    early: { 
      name: "早朝 (6:00-9:00)", 
      entryFee: { weekday: 0, weekend: 0 }, // 共通で無料
      unlimited: null // 打ち放題なし
    },
    daytime: { 
      name: "日中 (9:00-17:00)", 
      entryFee: { weekday: 280, weekend: 320 }, 
      unlimited: { // 一般
        weekday: { price: 1854, name: "3時間打ち放題" },
        weekend: { price: 2060, name: "3時間打ち放題" }
      }
    },
    night1: { 
      name: "夜間 (17:00-22:00)", 
      entryFee: { weekday: 280, weekend: 320 }, // 日中と同じと仮定
      unlimited: { // 一般 (日中と同じと仮定)
        weekday: { price: 1854, name: "3時間打ち放題" },
        weekend: { price: 2060, name: "3時間打ち放題" }
      }
    },
    night2: { 
      name: "深夜 (22:00-24:00)", 
      entryFee: { weekday: 0, weekend: 0 }, // 共通で無料
      unlimited: null // 打ち放題なし
    }
  },
  ballPrice: {
    // 3円デー (平日扱いと仮定)
    special_day: {
      early:   { floor1: 3, floor2: 3 },
      daytime: { floor1: 3, floor2: 3 },
      night1:  { floor1: 3, floor2: 3 },
      night2:  { floor1: 3, floor2: 3 },
    },
    // 平日
    weekday: {
      early:   { floor1: 7, floor2: 7 },
      daytime: { floor1: 8, floor2: 8 },
      night1:  { floor1: 9, floor2: 8 },
      night2:  { floor1: 8, floor2: 8 }, // 2Fを1Fと同じと仮定
    },
    // 土日祝
    weekend: {
      early:   { floor1: 7, floor2: 7 }, // 平日と同じと仮定
      daytime: { floor1: 10, floor2: 9 },
      night1:  { floor1: 10, floor2: 9 }, // 日中と同じと仮定
      night2:  { floor1: 9, floor2: 9 },
    }
  }
};
// ★★★ 料金シミュレーター用のデータ定義ここまで ★★★


const experienceReports = [
    { url: '/articles/azuchi-review/', title: '安土ゴルフクラブ 体験レポート', img: 'https://i.imgur.com/cJBj7Sh.png' },
    { url: '/articles/sakura-gc-review/', title: 'さくらゴルフ倶楽部 体験レポート', img: 'https://i.imgur.com/DqJ7aMO.png' },
    { url: '/articles/garege-park-review/', title: 'がれーじぱーく東近江 体験レポート', img: 'https://i.imgur.com/TQmlJFb.jpeg' },
    { url: '/articles/review/greenpia-oh/', title: 'グリーンピア近江八幡ゴルフ 体験レポート', img: 'https://i.imgur.com/KIm1JOr.jpeg' },
    { url: '/articles/review/riverside-jumbo/', title: 'リバーサイドジャンボゴルフ 体験レポート', img: 'https://i.imgur.com/KTh9uMB.jpeg' },
];
const comparisonArticles = [
    { url: '/articles/comparison/omi-priceRank/', title: '【料金で徹底比較】近江八幡・東近江の安い練習場5選', img: 'https://i.imgur.com/DOzSbMV.jpeg' },
    { url: '/articles/omi-higashiomi-approach/', title: '【アプローチ＆バンカー練習場】近江八幡・東近江5選', img: 'https://i.imgur.com/jOTBh4U.jpeg' },
    { url: '/articles/comparison/omi-putting/', title: '【パター練習場が充実】近江八幡・東近江5選', img: 'https://i.imgur.com/IJZwf4W.jpeg' },
    { url: '/articles/comparison/omi-lesson/', title: '【レッスン比較】近江八幡・東近江の初心者向け4選', img: 'https://i.imgur.com/XXlXJbL.jpeg' },
    { url: '/articles/comparison/higashiomi-guide/', title: '【2025年最新】東近江市のゴルフ練習場まとめ｜全3施設を料金・設備で徹底比較', img: 'https://i.imgur.com/1sT2kzY.jpeg' },
    { url: '/articles/comparison/omi-higashiomi-comparison/', title: '【総合比較】近江八幡・東近江エリアのゴルフ練習場4選', img: 'https://i.imgur.com/DyVr8of.jpeg' },
];
---

<BaseLayout title={title} description={description} pubDate={pubDate} ogImage={imageUrl}>

    <script slot="head" type="application/ld+json" set:html={JSON.stringify({
        "@context": "https://schema.org",
        "@type": "Article",
        // [修正点4] mainEntityOfPage を追加
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": articleUrl
        },
        "headline": headline,
        "description": description,
        "image": [ 
            imageUrl,
            "https://i.imgur.com/ZqtS7KZ.png",
            "https://i.imgur.com/JESF50G.jpeg",
            "https://i.imgur.com/MxbDzQ0.png",
            "https://i.imgur.com/TOM6sID.jpeg",
            "https://i.imgur.com/EtCU4D6.jpeg",
            "https://i.imgur.com/9ypbv0k.jpeg",
            "https://i.imgur.com/7wsrA50.jpeg",
            "https://i.imgur.com/hfDU3SE.jpeg",
            "https://i.imgur.com/RYK0Lmz.png",
            "https://i.imgur.com/0vYblgK.jpeg",
            "https://i.imgur.com/5aJXKlT.png",
            "https://i.imgur.com/nsHMRDX.jpeg",
            "https://i.imgur.com/POpXpCd.jpeg",
            "https://i.imgur.com/InmvnTr.jpeg",
            "https://i.imgur.com/7Owsnqp.jpeg",
            "https://i.imgur.com/GEFqCJG.jpeg",
            "https://i.imgur.com/xLzoLbP.jpeg",
            "https://i.imgur.com/DMFHH2o.jpeg",
            "https://i.imgur.com/A8TfyKs.jpeg",
            "https://i.imgur.com/EUkMBQR.jpeg",
            "https://i.imgur.com/P2cOPEX.jpeg"
        ],
        "author": {
            "@type": "Person",
            "name": "関（せき）",
            "url": "https://shigolf.com/about/",
            "image": "https://i.imgur.com/BOcMOf3.png",
            "sameAs": [ "https://x.com/Golf_Seki39", "https://golf-medley.com/articles/authors/seki", "https://note.com/seki_golf_39", "https://www.tiktok.com/@user2579514551181" ]
        },
        "publisher": {
            "@type": "Organization",
            "name": "シガゴル",
            "logo": { "@type": "ImageObject", "url": "https://i.imgur.com/mN0IbPS.png" }
        },
        "datePublished": pubDateISO,
        "dateModified": pubDateISO,
        "review": {
            "@type": "Review",
            "itemReviewed": {
                "@type": "LocalBusiness",
                "name": rangeData?.name,
                "image": rangeData?.imageUrl,
                "telephone": rangeData?.phone,
                "priceRange": rangeData?.priceRange,
                "address": {
                  "@type": "PostalAddress",
                  "streetAddress": rangeData?.address,
                  "addressLocality": rangeData?.city,
                  "addressRegion": "滋賀県",
                  "postalCode": rangeData?.postalCode,
                  "addressCountry": "JP"
                }
            },
            "reviewRating": {
                "@type": "Rating",
                "ratingValue": rangeData?.avgRating || "0",
                "bestRating": "5",
                "worstRating": "1"
            },
            "author": { "@type": "Person", "name": "関（せき）" }
        }
    })} />

    <div
        class="bg-white p-6 md:p-8 rounded-lg shadow-lg max-w-4xl mx-auto"
    >
        <a
            href="/articles/"
            class="nav-link back-button mb-6 text-green-700 font-semibold hover:underline"
        >
            ‹ お役立ち記事一覧に戻る
        </a>

        <article
            class="prose lg:prose-xl max-w-none text-slate-700 leading-relaxed"
        >
            <header>
                <h1 class="text-3xl md:text-4xl font-bold text-slate-800">
                    {headline}
                </h1>
                <p class="text-sm text-slate-500 mt-2">公開日：{pubDate}</p>
            </header>

            <p>
                「もっと気軽にたくさん練習したい！」<br />
                「どのゴルフ練習場がコスパいいの？」
            </p>
            <p>
                そんな悩みを抱えるゴルファーさんへ、特に女性のあなたに、とっておきのゴルフ練習場を紹介します！
            </p>

            <figure class="my-6">
                <Image
                    src="https://i.imgur.com/wgDjFch.jpeg"
                    alt="夕暮れ後の静けさに包まれた「さくらゴルフ倶楽部」入口の様子"
                    class="w-full h-auto object-cover rounded-lg"
                    loading="lazy"
                    width={1280}
                    height={960}
                    format="webp"
                    quality={80}
                />
                <figcaption class="text-center text-sm text-slate-500 mt-2">
                    夕暮れ後の静けさに包まれた「さくらゴルフ倶楽部」入口の様子（2025年4月／筆者撮影）
                </figcaption>
            </figure>

            <p>
                滋賀県東近江市に、まるで女性とジュニア（17歳以下）のために作られたかのような、驚きのゴルフ練習場があるのをご存知ですか？
                その名も「さくらゴルフ倶楽部」。
            </p>

            <figure class="my-6">
                 <Image
                    src="https://i.imgur.com/ZqtS7KZ.png"
                    alt="広々とした『さくらゴルフ倶楽部』の打席エリア。ナイター照明も完備"
                    class="w-full h-auto object-cover rounded-lg"
                    loading="lazy"
                    width={1280}
                    height={960}
                    format="webp"
                    quality={80}
                />
                <figcaption class="text-center text-sm text-slate-500 mt-2">
                    広々とした『さくらゴルフ倶楽部』の打席エリア。ナイター照明も完備（2025年4月／筆者撮影）
                </figcaption>
            </figure>

            <p>何を隠そう、筆者は男性なのですが、それでも週2～3回は通ってしまうほど、この練習場には魅力がたっぷり詰まっているんです。今回は、その秘密を余すところなくレポートします！</p>
            
            <div class="not-prose bg-slate-50 p-4 rounded-lg border border-slate-200 my-6 text-center">
                <p class="m-0">この記事で紹介するさくらゴルフ倶楽部は、<a href="/articles/omi-higashiomi-comparison/" class="text-green-700 font-bold hover:underline">「【近江八幡・東近江】ゴルフ練習場4選・徹底比較！」</a>の記事でも紹介しています。</p>
            </div>

            <div class="toc-container bg-slate-50 p-6 rounded-lg border border-slate-200 my-8 not-prose">
                <h2 class="text-xl font-bold mb-4 text-slate-800">この記事の目次</h2>
                <ul class="space-y-2 list-disc list-inside">
                    <li><a href="#benefits" class="text-green-700 hover:underline">女性＆ジュニアにうれしい特典はこちら！</a></li>
                    <li><a href="#simulator" class="text-green-700 hover:underline">かんたん料金シミュレーション</a></li> 
                    <li><a href="#reasons" class="text-green-700 hover:underline">男性筆者がそれでも「さくらゴルフ倶楽部」に通い詰める理由</a></li>
                    <li><a href="#environment" class="text-green-700 hover:underline">気になる練習環境を徹底チェック！</a></li>
                    <li><a href="#insider-tip" class="text-green-700 hover:underline">“裏ワザ”ではなく、店員さんのご厚意です</a></li>
                    <li><a href="#beginner-story" class="text-green-700 hover:underline">初心者だった私が「ホッ」とした瞬間。店員さんの神対応！</a></li>
                    <li><a href="#info-summary" class="text-green-700 hover:underline">「さくらゴルフ倶楽部」基本情報</a></li>
                    <li><a href="#conclusion" class="text-green-700 hover:underline">【まとめ】こんなあなたに「さくらゴルフ倶楽部」は絶対おすすめ！</a></li>
                </ul>
            </div>

            <h2 id="benefits" class="scroll-mt-24 text-2xl md:text-3xl font-bold text-slate-800 mt-12 mb-4">
                ＼女性＆ジュニアにうれしい特典はこちら！／
            </h2>
            
            <figure class="my-6">
                 <Image src="https://i.imgur.com/JESF50G.jpeg" alt="メンバー特典のチラシ。女性会員はプレミアム会員相当" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={960} height={1280} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">メンバー特典のチラシ。女性会員はプレミアム会員相当（2025年4月／筆者撮影）</figcaption>
            </figure>

            <ul class="list-none p-0 m-0 space-y-3 my-6">
                <li class="flex items-start"><span class="text-green-600 font-bold mr-2 mt-1 shrink-0">✅</span><span class="flex-1"><strong>入場料：</strong>いつでも無料！</span></li>
                <li class="flex items-start"><span class="text-green-600 font-bold mr-2 mt-1 shrink-0">✅</span><span class="flex-1"><strong>打ち放題：</strong>1時間515円（税込）※最大3時間まで</span></li>
                <li class="flex items-start"><span class="text-green-600 font-bold mr-2 mt-1 shrink-0">✅</span><span class="flex-1"><strong>アプローチ練習場：</strong>無料！（60分/回）</span></li>
                <li class="flex items-start"><span class="text-green-600 font-bold mr-2 mt-1 shrink-0">✅</span><span class="flex-1"><strong>レンタルクラブ：</strong>無料！</span></li>
                <li class="flex items-start"><span class="text-green-600 font-bold mr-2 mt-1 shrink-0">✅</span><span class="flex-1"><strong>年会費：</strong>もちろん無料！</span></li>
            </ul>

            <figure class="my-6">
                 <Image src="https://i.imgur.com/MxbDzQ0.png" alt="レディースパック打ち放題の詳細看板" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={960} height={1280} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">レディースパック打ち放題の詳細看板（2025年4月／筆者撮影）</figcaption>
            </figure>

            <p>…正直、これ本当？って思いますよね。私も最初は目を疑いました（笑）。 これならお財布を気にせず、思いっきり練習に打ち込めます！ 実際に、私のゴルフ仲間（女性）もこの特典をフル活用して、めきめき上達していますよ！</p>


            <h2 id="simulator" class="scroll-mt-24 text-2xl md:text-3xl font-bold text-slate-800 mt-12 mb-4">かんたん料金シミュレーション</h2>
            <div id="price-simulator" class="not-prose bg-slate-50 p-6 rounded-lg border-2 border-slate-200 my-8 overflow-hidden"> 
                <h3 class="text-xl font-bold mb-6 text-slate-800 mt-0 flex justify-center items-center whitespace-nowrap">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 -mt-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H6zm1 2a1 1 0 000 2h6a1 1 0 100-2H7zM6 7a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd" /></svg>
                    かんたん料金シミュレーション
                </h3>
            
                <div class="md:space-y-4">
                    
                    <div id="step-1" class="step-container"> 
                        <label for="plan-select" class="font-semibold text-slate-700">① プランを選択</label>
                        <select id="plan-select" class="w-full mt-2 p-2 border border-slate-300 rounded-md bg-white">
                            <option value="" disabled selected>プランを選択してください</option>
                            <option value="visitor">ビジター</option>
                            <option value="member">メンバー会員</option>
                            <option value="premium">プレミアム会員</option>
                            <option value="ladies_junior">レディース・ジュニア</option>
                        </select>
                    </div>

                    <div class="hidden md:grid grid-cols-2 gap-4">
                        <div id="step-2-pc" class="step-container"> 
                            <label class="font-semibold text-slate-700">② 利用日</label>
                            <div class="flex flex-wrap gap-x-4 gap-y-2 mt-2" id="day-options-pc">
                                <label class="flex items-center cursor-pointer"><input type="radio" name="day-pc" value="weekday" class="mr-2"> 平日</label>
                                <label class="flex items-center cursor-pointer"><input type="radio" name="day-pc" value="weekend" class="mr-2"> 土日祝</label>
                                <label class="flex items-center cursor-pointer"><input type="radio" name="day-pc" value="special_day" class="mr-2"> 3円デー(第3火曜)</label>
                            </div>
                        </div>

                        <div id="step-3-pc" class="step-container"> 
                            <label class="font-semibold text-slate-700">③ 打席</label>
                            <div class="flex gap-4 mt-2" id="floor-options-pc">
                                <label class="flex items-center cursor-pointer"><input type="radio" name="floor-pc" value="floor1" class="mr-2"> 1階</label>
                                <label class="flex items-center cursor-pointer"><input type="radio" name="floor-pc" value="floor2" class="mr-2"> 2階</label>
                            </div>
                        </div>
                    </div>

                    <div id="step-2" class="step-container md:hidden"> 
                        <label class="font-semibold text-slate-700">② 利用日</label>
                        <div class="flex flex-wrap gap-x-4 gap-y-2 mt-2" id="day-options">
                            <label class="flex items-center cursor-pointer"><input type="radio" name="day" value="weekday" class="mr-2"> 平日</label>
                            <label class="flex items-center cursor-pointer"><input type="radio" name="day" value="weekend" class="mr-2"> 土日祝</label>
                            <label class="flex items-center cursor-pointer"><input type="radio" name="day" value="special_day" class="mr-2"> 3円デー</label>
                        </div>
                    </div>

                    <div id="step-3" class="step-container md:hidden"> 
                        <label class="font-semibold text-slate-700">③ 打席</label>
                        <div class="flex gap-4 mt-2" id="floor-options">
                            <label class="flex items-center cursor-pointer"><input type="radio" name="floor" value="floor1" class="mr-2"> 1階</label>
                            <label class="flex items-center cursor-pointer"><input type="radio" name="floor" value="floor2" class="mr-2"> 2階</label>
                        </div>
                    </div>

                    <div id="step-4" class="step-container"> 
                        <label class="font-semibold text-slate-700">④ 時間帯</label>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-2 mt-2" id="time-options">
                            <label class="flex items-center cursor-pointer p-2 border border-slate-300 rounded-md bg-white has-[:checked]:bg-green-50 has-[:checked]:border-green-400">
                                <input type="radio" name="time" value="early" class="mr-2"> 早朝<br class="hidden md:inline">(6-9時)
                            </label>
                            <label class="flex items-center cursor-pointer p-2 border border-slate-300 rounded-md bg-white has-[:checked]:bg-green-50 has-[:checked]:border-green-400">
                                <input type="radio" name="time" value="daytime" class="mr-2"> 日中<br class="hidden md:inline">(9-17時)
                            </label>
                            <label class="flex items-center cursor-pointer p-2 border border-slate-300 rounded-md bg-white has-[:checked]:bg-green-50 has-[:checked]:border-green-400">
                                <input type="radio" name="time" value="night1" class="mr-2"> 夜間<br class="hidden md:inline">(17-22時)
                            </label>
                             <label class="flex items-center cursor-pointer p-2 border border-slate-300 rounded-md bg-white has-[:checked]:bg-green-50 has-[:checked]:border-green-400">
                                <input type="radio" name="time" value="night2" class="mr-2"> 深夜<br class="hidden md:inline">(22-24時)
                            </label>
                        </div>
                    </div>

                    <div id="step-5" class="step-container pt-2"> 
                        <div class="mb-4">
                            <label for="ball-count" class="font-semibold text-slate-700">⑤ 何球打ちますか？</label>
                            <input type="range" id="ball-count" min="10" max="800" step="10" value="150" class="w-full mt-3 h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer">
                            <div class="text-center font-bold text-green-700 text-lg mt-2" id="ball-count-display">150球</div>
                        </div>
                    </div>
                </div>

                <div class="text-center bg-white p-4 rounded-lg border-2 border-dashed border-slate-300 mt-6">
                    <p class="text-slate-600 mb-1 text-sm">合計金額（目安）</p>
                    <p class="text-3xl font-bold text-green-700" id="total-price-display">
                        ¥<span id="total-price">----</span>
                    </p>
                    <p class="text-sm font-bold text-blue-600 mt-2 hidden" id="unlimited-display"></p>
                </div>
                
                <div class="text-center mt-4">
                    <button id="reset-button" class="hidden bg-slate-200 text-slate-600 text-sm py-1 px-3 rounded-full">
                        やり直す
                    </button>
                </div>

                <p class="text-xs text-center text-slate-500 mt-4">
                    ※あくまでシミュレーションです。実際の金額は練習場でご確認ください。<br>
                    ※3円デーは打ち放題プランの割引対象外となる前提で計算しています。
                </p>
            </div>
            <h2 id="reasons" class="scroll-mt-24 text-2xl md:text-3xl font-bold text-slate-800 mt-12 mb-4">
                男性筆者がそれでも「さくらゴルフ倶楽部」に通い詰める理由
            </h2>
            <p>「女性がお得なのは分かったけど、じゃあ男性のあなたは何でそんなに通ってるの？」 そう思われたかもしれません。実はお得さだけじゃない、私がこの練習場を愛してやまない理由があるんです。</p>
            
            <h3 class="text-xl md:text-2xl font-bold text-slate-800 mt-8 mb-3">ゴルフ仲間との最高の集合場所</h3>
            <p>一緒に行くゴルフ仲間の多くが、この「さくらゴルフ倶楽部」がお気に入りなんです。 女性会員の友人は破格の安さで練習できますし、男性の友人は1回の練習で500球以上打つ猛者もいるのです。その友人はプレミアム会員なので割安に練習できる。 みんながハッピーになれる場所なんです。</p>

            <h3 class="text-xl md:text-2xl font-bold text-slate-800 mt-8 mb-3">リアルな情報交換の場になる</h3>
            <p>練習場でたまたま顔見知りになった方々と、今ではゴルフ情報を交換する仲に。 これが本当に有益で、「あのコースどうだった？」とか「新しいクラブ試した？」なんて会話が日常茶飯事。 ゴルフの輪が自然と広がっていくんです。</p>
            
            <h3 class="text-xl md:text-2xl font-bold text-slate-800 mt-8 mb-3">アットホームな店員さんと空気感</h3>
            <p>ここの店員さん、本当に親切でゴルフ愛に溢れている方ばかり。 ゴルフの相談に乗ってくれたり、時にはお客さんと一緒にラウンド（もちろん店員さんのお休みの日に！）することもあるくらい、フレンドリーなんです。 このアットホームな雰囲気が、通うたびに心地いいんですよね。</p>

            <h2 id="environment" class="scroll-mt-24 text-2xl md:text-3xl font-bold text-slate-800 mt-12 mb-4">
                気になる練習環境を徹底チェック！
            </h2>
            <p>もちろん、練習環境も充実していますよ！</p>

            <h3 class="text-xl md:text-2xl font-bold text-slate-800 mt-8 mb-3">【打席設備】</h3>
            <p><strong>マット：</strong> 打席によって多少の使用感はありますが、練習に支障が出るレベルではありません。</p>
            <figure class="my-6">
                 <Image src="https://i.imgur.com/TOM6sID.jpeg" alt="昼間の打席マットの状態。ティーアップされている球" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={1280} height={960} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">昼間の打席マットの状態。ティーアップされている球（2025年4月／筆者撮影）</figcaption>
            </figure>

            <p><strong>ティーアップ：</strong> 便利な自動式。高さも5段階に調整可能で操作も簡単！</p>
            <figure class="my-6">
                 <Image src="https://i.imgur.com/EtCU4D6.jpeg" alt="ティーの高さ調整をする機械。プリカの挿入もこの一台で！" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={1280} height={960} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">ティーの高さ調整をする機械。プリカの挿入もこの一台で！（2025年4月／筆者撮影）</figcaption>
            </figure>

            <p><strong>ボール：</strong> 様々なメーカーのロストボールがミックスされています。状態は色々ですが、練習用としては十分です。</p>
            <figure class="my-6">
                 <Image src="https://i.imgur.com/9ypbv0k.jpeg" alt="アプローチ練習場で実際にレンタルする球" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={1280} height={960} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">アプローチ練習場で実際にレンタルする球（2025年4月／筆者撮影）</figcaption>
            </figure>

            <p><strong>ターゲット：</strong> 10ヤード毎のラインや多数の旗、グリーンを模した的も設置されていて、距離感が掴みやすい！奥のネット(200ヤード～)にドライバーショットが届けば気分爽快です！</p>
            <figure class="my-6">
                 <Image src="https://i.imgur.com/7wsrA50.jpeg" alt="打席から見たフェアウェイ（ターゲットのyd表示あり）" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={1280} height={960} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">打席から見たフェアウェイ（星印をつけているところにターゲット（yd表示）があります）（2025年4月／筆者撮影）</figcaption>
            </figure>

            <p><strong>無料貸し出し品：</strong> ヘッドスピード測定器、アドレス確認用ミラー、スマホホルダーも受付で無料レンタル可能。スイングチェックに役立ちます。</p>
            <figure class="my-6">
                 <Image src="https://i.imgur.com/hfDU3SE.jpeg" alt="無料貸し出し品一覧の写真（店内貼り出し用ポスター）" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={960} height={1280} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">無料貸し出し品一覧の写真（店内貼り出し用ポスター）（2025年4月／筆者撮影）</figcaption>
            </figure>

            <h3 class="text-xl md:text-2xl font-bold text-slate-800 mt-8 mb-3">【初心者ゴルファーさん注目！集中できる「初心者優先スペース」】</h3>
            <figure class="my-6">
                 <Image src="https://i.imgur.com/RYK0Lmz.png" alt="身長より高い打席横にあるパーテーション" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={960} height={1280} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">身長より高い打席横にあるパーテーション。（2025年4月／筆者撮影）</figcaption>
            </figure>
            
            <p>2階打席の一番奥には、6打席の「初心者優先スペース」があります。 ここが本当に素晴らしい！ 高さ約2mのしっかりしたパーテーションで区切られているので、隣の打席や周りの視線を気にせず、自分のペースで練習に集中できます。「空振りしたら恥ずかしいな…」なんて心配、もう必要ありません！ 安心して、納得いくまでクラブを振れますよ。</p>
            
            <figure class="my-6">
                 <Image src="https://i.imgur.com/0vYblgK.jpeg" alt="横から見た初心者優先スペース。光差し込む昼間の打席" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={1280} height={960} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">横から見た初心者優先スペース。光差し込む昼間の打席（2025年4月／筆者撮影）</figcaption>
            </figure>

            <p>一番奥は左利き用の打席になっています。2階なので打ち下ろしで気持ちよく練習できるのも◎。 受付で空き状況を確認してみてくださいね。</p>

            <figure class="my-6">
                 <Image src="https://i.imgur.com/5aJXKlT.png" alt="フロントに設置されている打席の空き状況確認掲示板" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={960} height={1280} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">フロントに設置されている打席の空き状況確認掲示板（2025年4月／筆者撮影）</figcaption>
            </figure>

            <h3 class="text-xl md:text-2xl font-bold text-slate-800 mt-8 mb-3">【スコアメイクの鍵！実戦力が身につく「アプローチ練習場」】</h3>
            <figure class="my-6">
                 <Image src="https://i.imgur.com/nsHMRDX.jpeg" alt="アプローチ練習場の全体。芝の状態などがはっきりわかる昼間" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={1280} height={960} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">アプローチ練習場の全体。芝の状態などがはっきりわかる昼間（2025年4月／筆者撮影）</figcaption>
            </figure>

            <p>ゴルフのスコアを左右するショートゲーム。「さくらゴルフ倶楽部」には、約60ヤードのアプローチ練習場があり、これがまた素晴らしいんです！</p>
            
            <figure class="my-6">
                 <Image src="https://i.imgur.com/POpXpCd.jpeg" alt="アプローチ練習場に設置されているお願い看板。目土及びバンカーの整地" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={960} height={1280} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">アプローチ練習場に設置されているお願い看板。目土及びバンカーの整地（2025年4月／筆者撮影）</figcaption>
            </figure>

            <p>正直にお伝えすると、芝やバンカーの状態が常に完璧！というわけではありません。 でも、それが逆にイイ！ コースで遭遇するような、ちょっと難しいライやアゴの高いバンカーからのショットなど、より実践的な練習ができるんです。 旗も2本立っているので、目標設定もしやすいですよ。</p>
            
            <figure class="my-6">
                 <Image src="https://i.imgur.com/InmvnTr.jpeg" alt="アプローチ練習場のバンカー。砂の状態やライの状態を確認できます" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={1280} height={960} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">アプローチ練習場のバンカー。砂の状態やライの状態を確認できます（2025年4月／筆者撮影）</figcaption>
            </figure>

            <p>私自身、ここのアプローチ練習場で様々な打ち方を試し、練習を重ねた結果、苦手だったアプローチでのトップが激減！スコアアップを実感しています。</p>

            <figure class="my-6">
                 <Image src="https://i.imgur.com/7Owsnqp.jpeg" alt="目土小屋。袋の中にスコップが入っているのでそのまま使えます" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={1280} height={960} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">目土小屋。袋の中にはスコップが入っているのでそのまま使えます（2025年4月／筆者撮影）</figcaption>
            </figure>
            
            <p>ゴルフシューズはもちろん、スニーカーでの利用もOK。 練習後にはコンプレッサーで汚れを落とせるのも嬉しいポイント。休憩用のベンチも設置されています。</p>
            
            <figure class="my-6">
                 <Image src="https://i.imgur.com/GEFqCJG.jpeg" alt="アプローチ練習場に設置されている休憩用ベンチ" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={1280} height={960} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">アプローチ練習場に設置されている休憩用ベンチ（2025年4月／筆者撮影）</figcaption>
            </figure>

            <h3 class="text-xl md:text-2xl font-bold text-slate-800 mt-8 mb-3">【気分転換にも最適「パター練習コーナー」】</h3>
            <figure class="my-6">
                 <Image src="https://i.imgur.com/xLzoLbP.jpeg" alt="2Fオープンスペースにあるパター練習用のミニグリーン" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={1280} height={960} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">2Fオープンスペースにあるパター練習用のミニグリーン（2025年4月／筆者撮影）</figcaption>
            </figure>

            <p>2階ホールには、パターマット2種類とフラットなミニグリーン（約2m×1m）も。 本格的なパター練習には少し物足りないかもしれませんが、打席練習の合間の気分転換や、初心者の方がパットの感覚を掴むには最適です。 気軽に利用してみてください。</p>
            
            <figure class="my-6">
                 <Image src="https://i.imgur.com/DMFHH2o.jpeg" alt="2Fオープンスペースにあるパターマット" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={1280} height={960} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">2Fオープンスペースにあるパターマット（2025年4月／筆者撮影）</figcaption>
            </figure>
            
            <h2 id="insider-tip" class="scroll-mt-24 text-2xl md:text-3xl font-bold text-slate-800 mt-12 mb-4">
                ⚠ ※注意：以下は“裏ワザ”ではなく、店員さんのご厚意です。常にOKではないので、必ず相談を！
            </h2>
            <p>これはオフィシャルな情報ではないのですが… 店員さんのご厚意で、こんな経験をしたことがあります。</p>
            <p>ゴルフ未経験の友人を連れて行った時のこと。 友人は今後ゴルフを続けるか分からないのに、プリペイドカード（2,000円～）を購入するのは少し気が引ける…という状況でした。 ダメ元で店員さんに相談してみたところ、なんと私のプリペイドカードを友人と共有する形で、友人はカード購入なしで入場・練習させてもらえたのです！ （※本来は一打席一人、プリカも打席ごとに必要です）</p>
            <p>また、別の日にはアプローチ練習場に「メインは見学で、数球だけちょっと触ってみる程度なら…」と相談したところ、無料で入場させてもらえたことも。</p>
            <p>重ねてお伝えしますが、これらはあくまで店員さんのご厚意によるものであり、常に同様の対応を期待できるものではありません。 もし同様の状況になった場合は、必ず事前に店員さんに謙虚な姿勢で相談してみてくださいね。</p>

            <figure class="my-6">
                 <Image src="https://i.imgur.com/A8TfyKs.jpeg" alt="打席から見た、晴れた昼間のフェアウェイ" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={1280} height={960} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">打席から見た、晴れた昼間のフェアウェイ（2025年4月／筆者撮影）</figcaption>
            </figure>

            <h2 id="beginner-story" class="scroll-mt-24 text-2xl md:text-3xl font-bold text-slate-800 mt-12 mb-4">
                初心者だった私が「ホッ」とした瞬間。店員さんの神対応！
            </h2>
            <figure class="my-6">
                 <Image src="https://i.imgur.com/EUkMBQR.jpeg" alt="さくらゴルフ倶楽部のメンバーズカード（メンバー会員）" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={1280} height={960} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">さくらゴルフ倶楽部のメンバーズカード（メンバー会員）（2025年5月／筆者撮影）</figcaption>
            </figure>
            <p>私がまだゴルフを始めたばかりの頃。 ある日、夜9時頃から練習を始めたのですが、夜10時になった瞬間、突然プリペイドカードが打席から排出されたんです！</p>
            <p>「え？何？故障！？」とパニックになっていると、たまたま近くを通りかかった店員さんが優しく声をかけてくれました。 「22時からは料金が安くなるので、一度カードが出てくるんですよ。早朝も同じシステムで、朝9時までは入場料不要で単価も安いので、9時になると一度排出されて受付が必要になるんです」と。</p>
            <p>もう、本当にホッとしました…。 初めて練習場に行く時って、色々不安ですよね。 でも、「さくらゴルフ倶楽部」の店員さんは、こちらから「初めて来ました」と伝えれば、本当に丁寧に（ある意味、お節介なくらい(笑)）教えてくれるので、安心して練習を始められますよ。</p>
            
            <div class="not-prose my-12 space-y-12">
            {
                category === '体験談' ? (
                    <>
                        <MySlider articles={comparisonArticles} title="あわせて読みたい「比較記事」"/>
                        <MySlider articles={experienceReports} title="あわせて読みたい「体験談」"/>
                    </>
                ) 
                : category === '比較記事' ? (
                    <>
                        <MySlider articles={experienceReports} title="あわせて読みたい「体験談」"/>
                        <MySlider articles={comparisonArticles} title="あわせて読みたい「比較記事」"/>
                    </>
                ) 
                : null
            }
            </div>
            <ShareButtons articleUrl={articleUrl} headline={headline} />
            <AuthorProfile />

            <h2 id="info-summary" class="scroll-mt-24 text-2xl md:text-3xl font-bold text-slate-800 mt-12 mb-4">
                {rangeData ? `「${rangeData.name}」の基本情報` : "基本情報"}
            </h2>
            {
                rangeData ? (
                    <div class="overflow-x-auto not-prose">
                        <table class="w-full text-left border-collapse">
                            <tbody class="align-baseline">
                                <tr class="border-b border-slate-200">
                                    <th class="py-3 px-4 bg-slate-50 font-semibold w-1/3">練習場名</th>
                                    <td class="py-3 px-4">{rangeData.name}</td>
                                </tr>
                                 {rangeData.avgRating && (
                                    <tr class="border-b border-slate-200">
                                        <th class="py-3 px-4 bg-slate-50 font-semibold">総合評価</th>
                                        <td class="py-3 px-4">
                                            <div class="flex items-center" role="img" aria-label={`評価 ${parseFloat(rangeData.avgRating).toFixed(1)}/5`}>
                                                <span class="font-bold text-amber-500 mr-2">{parseFloat(rangeData.avgRating).toFixed(1)}</span>
                                                {Array.from({ length: 5 }).map((_, i) => (
                                                    <svg class={`w-5 h-5 ${i < Math.round(parseFloat(rangeData.avgRating)) ? 'text-amber-400' : 'text-slate-300'}`} fill="currentColor" viewBox="0 0 20 20">
                                                        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8-2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                                    </svg>
                                                ))}
                                            </div>
                                        </td>
                                    </tr>
                                )}
                                <tr class="border-b border-slate-200">
                                    <th class="py-3 px-4 bg-slate-50 font-semibold">住所</th>
                                    <td class="py-3 px-4">
                                        <a href={`http://googleusercontent.com/maps/google.com/0{encodeURIComponent(rangeData.name + " " + rangeData.address)}`} target="_blank" rel="noopener noreferrer" class="text-green-700 hover:underline">
                                            {rangeData.address}
                                        </a>
                                    </td>
                                </tr>
                                <tr class="border-b border-slate-200">
                                    <th class="py-3 px-4 bg-slate-50 font-semibold">電話番号</th>
                                    <td class="py-3 px-4">
                                        {rangeData.phone ? (
                                            <a href={`tel:${rangeData.phone?.replace(/-/g, "")}`} class="text-green-700 hover:underline">
                                                {rangeData.phone}
                                            </a>
                                        ) : (
                                            <span>-</span>
                                        )}
                                    </td>
                                </tr>
                                <tr class="border-b border-slate-200">
                                    <th class="py-3 px-4 bg-slate-50 font-semibold">営業時間</th>
                                    <td class="py-3 px-4">{rangeData.business_hours}</td>
                                </tr>
                                <tr class="border-b border-slate-200">
                                    <th class="py-3 px-4 bg-slate-50 font-semibold">ヤード数</th>
                                    <td class="py-3 px-4">{rangeData.yardage ? `${rangeData.yardage}ヤード` : "-"}</td>
                                </tr>
                                <tr class="border-b border-slate-200">
                                    <th class="py-3 px-4 bg-slate-50 font-semibold">打席数</th>
                                    <td class="py-3 px-4">{rangeData.bays ? `${rangeData.bays}打席` : "-"}</td>
                                </tr>
                                <tr>
                                    <th class="py-3 px-4 bg-slate-50 font-semibold">アクセス</th>
                                    <td class="py-3 px-4">{rangeData.access}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                ) : (
                    <p class="text-center text-slate-500 py-4">
                        練習場の基本情報を読み込んでいます...
                    </p>
                )
            }
            {
                rangeData && (
                    <div class="map-container not-prose my-8 rounded-lg overflow-hidden border">
                        {/* [修正点2] iframeにloading="lazy"が適用されていることを確認 */}
                        <iframe
                            src={`http://googleusercontent.com/maps/google.com/1{import.meta.env.PUBLIC_GOOGLE_MAPS_API_KEY}&q=${encodeURIComponent(rangeData.name + " " + rangeData.address)}`}
                            width="100%"
                            height="450"
                            style="border:0;"
                            allowfullscreen=""
                            loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade"
                        ></iframe>
                    </div>
                )
            }
            <p class="text-center font-bold text-lg mt-8">
                🎯 さらに詳しい情報や口コミはこちら！
                <br />
                <a
                    href={`/ranges/${rangeId}/`}
                    class="mt-4 inline-block bg-green-700 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-green-800 transition-colors duration-200 text-base no-underline"
                >
                    「さくらゴルフ倶楽部」のシガゴル公式レビューページへ
                </a>
            </p>

            <h2 id="conclusion" class="scroll-mt-24 text-2xl md:text-3xl font-bold text-slate-800 mt-12 mb-4">
                【まとめ】こんなあなたに「さくらゴルフ倶楽部」は絶対おすすめ！
            </h2>
            <p>東近江市の「さくらゴルフ倶楽部」。 特筆すべきは、やはり女性とジュニアへの圧倒的なホスピタリティ！ そして、実践的なアプローチ練習環境と、何より温かい人の繋がりが感じられる場所だということ。</p>
            <p>設備は最新鋭ピカピカ！というわけではないかもしれませんが、それを補って余りあるほどの練習のしやすさと居心地の良さがここにはあります。</p>

            <figure class="my-6">
                 <Image src="https://i.imgur.com/P2cOPEX.jpeg" alt="1Fエントランス横休憩スペースに設置されているマッサージチェア" class="w-full h-auto object-cover rounded-lg" loading="lazy" width={1280} height={960} format="webp" quality={80} />
                <figcaption class="text-center text-sm text-slate-500 mt-2">マッサージチェアも置いてます笑 1Fエントランス横休憩スペースに設置されているマッサージチェア。自由に使用可能（2025年4月／筆者撮影）</figcaption>
            </figure>

            <p>特にこんな方には、自信を持っておすすめします！</p>
            <ul class="list-disc list-inside space-y-2 my-4">
                <li>とにかくお得にたくさん練習したい女性ゴルファーの方！</li>
                <li>ゴルフを始めたい、または始めたばかりの初心者の方！</li>
                <li>アプローチショットを徹底的に磨きたい方！</li>
                <li>財布の中身を気にせず、心ゆくまで打ち込みたい方！</li>
                <li>フレンドリーな雰囲気で、ゴルフ仲間を見つけたい方！</li>
            </ul>
            <p>店員さんとお客さんが和気あいあいとゴルフ談義に花を咲かせている、そんな光景が日常の練習場です。ゴルフ初心者の方も、がっつり練習したい経験者も、そして「ちょっと気になる…」くらいの人にも。 さくらゴルフ倶楽部は、すべてのゴルファーにやさしい練習場です！</p>
            <p>気になったあなたは、ぜひ一度、その魅力を体験しに足を運んでみてくださいね！</p>
            
        </article>
    </div>
</BaseLayout>

<style>
    /* ★ シミュレーター用のCSSを追加 */
    .map-container {
        position: relative;
        width: 100%;
        overflow: hidden;
        /* 変更: 16:9 ではなく、高さを 450px に固定 (元コードに合わせる) */
        height: 450px; 
    }
    .map-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: 0;
    }
    .scroll-mt-24 {
        scroll-margin-top: 6rem; /* 96px */
    }

    #plan-select {
         font-size: 1rem !important; /* 16px */
    }

    @media (max-width: 767px) {
        .step-container {
            transition: opacity 0.3s ease-out, max-height 0.3s ease-out, margin 0.3s ease-out, padding 0.3s ease-out;
            overflow: hidden;
        }
        .step-container.hidden {
            opacity: 0;
            max-height: 0;
            padding-top: 0;
            padding-bottom: 0;
            margin-top: 0;
            margin-bottom: 0;
            pointer-events: none;
        }
    }
</style>

<script define:vars={{ priceData }}>
    document.addEventListener('DOMContentLoaded', () => {
        const simulator = document.getElementById('price-simulator');
        if (!simulator) return;

        // --- 要素の取得 ---
        const planSelect = simulator.querySelector('#plan-select');
        
        // スマホ用
        const dayRadios = simulator.querySelectorAll('input[name="day"]');
        const floorRadios = simulator.querySelectorAll('input[name="floor"]');
        // PC用 
        const dayRadiosPc = simulator.querySelectorAll('input[name="day-pc"]');
        const floorRadiosPc = simulator.querySelectorAll('input[name="floor-pc"]');

        // 共通
        const timeRadios = simulator.querySelectorAll('input[name="time"]');
        const ballCountSlider = simulator.querySelector('#ball-count');
        const ballCountDisplay = simulator.querySelector('#ball-count-display');
        const totalPriceDisplay = simulator.querySelector('#total-price');
        const unlimitedDisplay = simulator.querySelector('#unlimited-display');
        const resetButton = simulator.querySelector('#reset-button');

        // ステップコンテナ
        const steps = [
            simulator.querySelector('#step-1'),
            simulator.querySelector('#step-2'), // スマホ用 利用日
            simulator.querySelector('#step-3'), // スマホ用 打席
            simulator.querySelector('#step-4'), // 共通 時間帯
            simulator.querySelector('#step-5')  // 共通 球数
        ];
        
        // PC用コンテナ
        const pcStep2 = simulator.querySelector('#step-2-pc');
        const pcStep3 = simulator.querySelector('#step-3-pc');

        // --- 状態管理 ---
        const isMobile = () => window.innerWidth < 768;

        // --- 関数定義 ---

        /**
         * 料金を計算して表示する
         */
        function calculatePrice() {
            // 1. 各選択肢の値を取得
            const planKey = planSelect.value;
            let dayKey = (isMobile() ? 
                            simulator.querySelector('input[name="day"]:checked') : 
                            simulator.querySelector('input[name="day-pc"]:checked'))?.value;
            const floorKey = (isMobile() ? 
                              simulator.querySelector('input[name="floor"]:checked') : 
                              simulator.querySelector('input[name="floor-pc"]:checked'))?.value;
            const timeKey = simulator.querySelector('input[name="time"]:checked')?.value;
            const balls = parseInt(ballCountSlider.value);

            ballCountDisplay.textContent = `${balls}球`;

            if (!planKey || !dayKey || !timeKey || !floorKey) {
                totalPriceDisplay.textContent = '----';
                unlimitedDisplay.classList.add('hidden');
                return;
            }

            // 2. 必要な料金データを取得
            const plan = priceData.plans[planKey];
            if (!plan) {
                 console.error("Selected plan not found in priceData:", planKey);
                 totalPriceDisplay.textContent = 'エラー';
                 return;
            }

            const timeZone = priceData.timeZones[timeKey];
            // 3円デー 'special_day' が選択された場合、ボール単価は 'special_day' を参照
            const ballPriceDayKey = dayKey; 
            const baseBallPrice = priceData.ballPrice[ballPriceDayKey][timeKey][floorKey];

            let entryFee = 0;
            let ballPriceDiscount = 0;
            let ballTotal = 0;
            let finalPrice = 0;

            // 3. プラン別に基本料金を計算
            
            // 3-1. 入場料
            if (plan.type === 'visitor') {
                // 3円デー(第3火曜)は平日扱いとする
                const entryDayKey = (dayKey === 'special_day') ? 'weekday' : dayKey;
                entryFee = timeZone.entryFee[entryDayKey];
            } else {
                // member, premium, ladies_junior は入場料無料
                entryFee = plan.entryFee;
            }
            
            // 3-2. 単価割引
            // プレミアム会員、かつ、9-22時、かつ、3円デー以外
            if (plan.type === 'premium' && (timeKey === 'daytime' || timeKey === 'night1') && dayKey !== 'special_day') {
                ballPriceDiscount = plan.discount; // 1円
            }

            const actualBallPrice = Math.max(0, baseBallPrice - ballPriceDiscount);
            ballTotal = (actualBallPrice * balls) + entryFee;

            // 4. 打ち放題プランとの比較
            unlimitedDisplay.classList.add('hidden');
            unlimitedDisplay.innerHTML = ""; 

            let bestOption = { name: '単価打ち', price: ballTotal };
            let unlimitedMessage = "";
            let availablePlans = [];

            // 打ち放題が利用可能な時間帯 (9:00-22:00) かつ 3円デーでない場合
            if ((timeKey === 'daytime' || timeKey === 'night1') && dayKey !== 'special_day') {
                if (plan.type === 'ladies_junior') {
                    availablePlans = plan.unlimited; 
                } else if (plan.type === 'premium') {
                    availablePlans = plan.unlimited; 
                } else if (plan.type === 'visitor' || plan.type === 'member') {
                    // 一般の打ち放題。dayKey は 'weekday' or 'weekend'
                    if (timeZone.unlimited && timeZone.unlimited[dayKey]) {
                         availablePlans = [timeZone.unlimited[dayKey]]; 
                    }
                }
            }
            // (早朝・深夜・3円デーは availablePlans = [] のまま)

            if (availablePlans.length > 0) {
                
                // L/J と Premium の場合 (複数の打ち放題プランがある場合)
                if (plan.type === 'ladies_junior' || plan.type === 'premium') {
                    
                    const suitablePlans = availablePlans.filter(p => p.price <= ballTotal);
                    
                    if (suitablePlans.length > 0) {
                        const bestUnlimitedPlan = suitablePlans.reduce((best, current) => {
                            return current.price > best.price ? current : best;
                        });
                        bestOption = bestUnlimitedPlan;
                    }

                    unlimitedMessage = "💡 打ち放題プラン:<br>" + availablePlans.map(p => {
                        return `${p.name} (¥${p.price.toLocaleString()})`;
                    }).join('<br>');

                } 
                // Visitor / Member の場合 (一般打ち放題が1つの場合)
                else { 
                    const cheapestUnlimitedPlan = availablePlans[0]; 
                    if (cheapestUnlimitedPlan.price <= ballTotal) {
                        bestOption = cheapestUnlimitedPlan;
                        unlimitedMessage = `💡 ${bestOption.name} (¥${bestOption.price.toLocaleString()}) がお得です`;
                    }
                }
            }
            
            // 5. 最終金額とメッセージを表示
            finalPrice = bestOption.price;
            let finalPriceString = finalPrice.toLocaleString(); 

            // レディース・プレミアム会員で、かつ「打ち放題」が最安オプションになった場合
            if ((plan.type === 'ladies_junior' || plan.type === 'premium') && bestOption.name !== '単価打ち') {
                
                if (availablePlans.length > 0) {
                    const minUnlimitedPrice = availablePlans.reduce((min, p) => p.price < min ? p.price : min, availablePlans[0].price);
                    
                    // 表示を「¥(最低価格)〜」に変更
                    finalPriceString = `${minUnlimitedPrice.toLocaleString()}〜`; 
                }
            }

            totalPriceDisplay.textContent = finalPriceString; 
            
            if (unlimitedMessage) {
                unlimitedDisplay.innerHTML = unlimitedMessage; 
                unlimitedDisplay.classList.remove('hidden');
            }
        }

        /**
         * スマホ表示でステップを進める
         */
        function goToStep(stepToShow) {
            if (!isMobile()) return;
            steps.forEach(step => step.classList.add('hidden'));
            stepToShow.classList.remove('hidden');
            resetButton.classList.remove('hidden');
        }

        /**
         * スマホ/PC表示とフォームをリセット
         */
        function resetSimulator() {
            // ラジオボタンの選択を全て解除
            [...dayRadios, ...floorRadios, ...timeRadios, ...dayRadiosPc, ...floorRadiosPc].forEach(radio => radio.checked = false);
            
            ballCountSlider.value = 150;
            
            if (isMobile()) {
                // ★ スマホ: プランを「未選択」に戻す
                planSelect.value = ""; 
                steps.forEach((step, index) => {
                    if (index === 0) step.classList.remove('hidden'); // ステップ1
                    else step.classList.add('hidden');
                });
                resetButton.classList.add('hidden');
            } else {
                // ★ PC: デフォルトを設定
                planSelect.value = 'visitor'; // PCはビジターデフォルト
                simulator.querySelector('input[name="day-pc"][value="weekday"]').checked = true;
                simulator.querySelector('input[name="floor-pc"][value="floor2"]').checked = true;
                simulator.querySelector('input[name="time"][value="daytime"]').checked = true;

                // PCはスマホ用ステップを隠す
                steps.forEach(step => step.classList.remove('hidden'));
                steps[1].classList.add('hidden'); // (スマホ用)
                steps[2].classList.add('hidden'); // (スマホ用)
                pcStep2.classList.remove('hidden');
                pcStep3.classList.remove('hidden');
                resetButton.classList.add('hidden'); 
            }
            
            calculatePrice(); // 最後に初期計算 (PCは計算され、スマホは '----' のまま)
        }
        
        /**
         * イベントリスナーを設定
         */
        function setupListeners() {
            planSelect.addEventListener('change', () => {
                calculatePrice(); // Recalculate
                if (isMobile()) {
                    goToStep(steps[1]); // プラン選んだらステップ2へ
                }
            });
            
            // スマホ用ラジオ
            dayRadios.forEach(radio => radio.addEventListener('change', () => {
                simulator.querySelector(`input[name="day-pc"][value="${radio.value}"]`).checked = true; // PCと同期
                goToStep(steps[2]); // ステップ3へ
                calculatePrice();
            }));
            floorRadios.forEach(radio => radio.addEventListener('change', () => {
                 simulator.querySelector(`input[name="floor-pc"][value="${radio.value}"]`).checked = true; // PCと同期
                goToStep(steps[3]); // ステップ4へ
                calculatePrice();
            }));
            
            // PC用ラジオ
             dayRadiosPc.forEach(radio => radio.addEventListener('change', () => {
                simulator.querySelector(`input[name="day"][value="${radio.value}"]`).checked = true; // スマホと同期
                calculatePrice();
            }));
            floorRadiosPc.forEach(radio => radio.addEventListener('change', () => {
                simulator.querySelector(`input[name="floor"][value="${radio.value}"]`).checked = true; // スマホと同期
                calculatePrice();
            }));

            // 共通
            timeRadios.forEach(radio => radio.addEventListener('change', () => {
                if(isMobile()) goToStep(steps[4]); // ステップ5へ
                calculatePrice();
            }));
            ballCountSlider.addEventListener('input', calculatePrice);
            resetButton.addEventListener('click', resetSimulator);
        }

        // --- 初期化実行 ---
        setupListeners(); // イベントリスナーを先に設定
        resetSimulator(); // Viewとフォームを初期化

        let resizeTimer;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(() => {
                resetSimulator(); // リサイズ時もリセットして再描画
            }, 250);
        });
    });
</script>